import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as e,c as a,a as i}from"./app-DXQ2ZpS1.js";const r={},n=i(`<p>La integración del sistema RBAC en la base ahora permite restringir fácilmente secciones/páginas en todo el CMS. En esta página encontrará documentación de las funciones disponibles para lograrlo.</p><h2 id="has-permission" tabindex="-1"><a class="header-anchor" href="#has-permission"><span>has_permission</span></a></h2><p><code>has_permission</code> — <em>Comprobar si el rol de usuario tiene un permiso específico del módulo</em></p><div class="language-php line-numbers-mode" data-ext="php" data-title="php"><pre class="shiki shiki-themes material-theme-lighter material-theme-darker" style="background-color:#FAFAFA;--shiki-dark-bg:#212121;color:#90A4AE;--shiki-dark:#EEFFFF;" tabindex="0"><code><span class="line"><span style="color:#6182B8;--shiki-dark:#82AAFF;">has_permission</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">($</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">key</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">,</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> $</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">module</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">,</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> $</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">id </span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> null):</span><span style="color:#9C3EDA;--shiki-dark:#C792EA;"> bool</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="parametros" tabindex="-1"><a class="header-anchor" href="#parametros"><span>Parámetros</span></a></h4><table><thead><tr><th>Parámetro</th><th>Tipo</th><th>Descripción</th></tr></thead><tbody><tr><td><strong>$key</strong></td><td>string</td><td>Clave de permiso</td></tr><tr><td><strong>$module</strong></td><td>string</td><td>Nombre del módulo</td></tr><tr><td><strong>$id</strong></td><td>int|null</td><td>Id de usuario</td></tr></tbody></table><h4 id="valores-devueltos" tabindex="-1"><a class="header-anchor" href="#valores-devueltos"><span>Valores Devueltos</span></a></h4><p>Devuelve <strong>true</strong> si el usuario tiene el permiso o <strong>false</strong> en caso de error.</p><h4 id="ejemplos" tabindex="-1"><a class="header-anchor" href="#ejemplos"><span>Ejemplos</span></a></h4><div class="language-php line-numbers-mode" data-ext="php" data-title="php"><pre class="shiki shiki-themes material-theme-lighter material-theme-darker" style="background-color:#FAFAFA;--shiki-dark-bg:#212121;color:#90A4AE;--shiki-dark:#EEFFFF;" tabindex="0"><code><span class="line"><span style="color:#39ADB5;--shiki-dark:#89DDFF;font-style:italic;--shiki-dark-font-style:italic;">if</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> (</span><span style="color:#6182B8;--shiki-dark:#82AAFF;">has_permission</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="color:#91B859;--shiki-dark:#C3E88D;">add.tags</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">,</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="color:#91B859;--shiki-dark:#C3E88D;">example</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">))</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#6182B8;--shiki-dark:#82AAFF;">    echo</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="color:#91B859;--shiki-dark:#C3E88D;">Tienes permiso para agregar etiquetas</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="color:#39ADB5;--shiki-dark:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;--shiki-dark:#89DDFF;font-style:italic;--shiki-dark-font-style:italic;">if</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> (</span><span style="color:#6182B8;--shiki-dark:#82AAFF;">has_permission</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="color:#91B859;--shiki-dark:#C3E88D;">add.tags</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">,</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="color:#91B859;--shiki-dark:#C3E88D;">example</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">,</span><span style="color:#F76D47;--shiki-dark:#F78C6C;"> 2</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">))</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#6182B8;--shiki-dark:#82AAFF;">    echo</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="color:#91B859;--shiki-dark:#C3E88D;">El usuario 2 tiene permiso para agregar etiquetas</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="color:#39ADB5;--shiki-dark:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="require-permission" tabindex="-1"><a class="header-anchor" href="#require-permission"><span>require_permission</span></a></h2><p><code>require_permission</code> — <em>Requerir a un usuario un permiso</em></p><div class="language-php line-numbers-mode" data-ext="php" data-title="php"><pre class="shiki shiki-themes material-theme-lighter material-theme-darker" style="background-color:#FAFAFA;--shiki-dark-bg:#212121;color:#90A4AE;--shiki-dark:#EEFFFF;" tabindex="0"><code><span class="line"><span style="color:#6182B8;--shiki-dark:#82AAFF;">require_permission</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">($</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">key</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">,</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> $</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">module </span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> null,</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> $</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">id </span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> null):</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;"> void</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="parametros-1" tabindex="-1"><a class="header-anchor" href="#parametros-1"><span>Parámetros</span></a></h4><table><thead><tr><th>Parámetro</th><th>Tipo</th><th>Descripción</th></tr></thead><tbody><tr><td><strong>$key</strong></td><td>string</td><td>Clave de permiso</td></tr><tr><td><strong>$module</strong></td><td>string|null</td><td>Nombre del módulo</td></tr><tr><td><strong>$id</strong></td><td>int|null</td><td>Id de usuario</td></tr></tbody></table><h4 id="valores-devueltos-1" tabindex="-1"><a class="header-anchor" href="#valores-devueltos-1"><span>Valores Devueltos</span></a></h4><p>Devuelve una <strong>página de excepción</strong> si el usuario no tiene el permiso.</p><h4 id="ejemplos-1" tabindex="-1"><a class="header-anchor" href="#ejemplos-1"><span>Ejemplos</span></a></h4><div class="language-php line-numbers-mode" data-ext="php" data-title="php"><pre class="shiki shiki-themes material-theme-lighter material-theme-darker" style="background-color:#FAFAFA;--shiki-dark-bg:#212121;color:#90A4AE;--shiki-dark:#EEFFFF;" tabindex="0"><code><span class="line"><span style="color:#6182B8;--shiki-dark:#82AAFF;">require_permission</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="color:#91B859;--shiki-dark:#C3E88D;">add.news</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">,</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="color:#91B859;--shiki-dark:#C3E88D;">example</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="permisos-reservados" tabindex="-1"><a class="header-anchor" href="#permisos-reservados"><span>Permisos reservados</span></a></h2><p>Para no entrar en conflicto con las modificaciones externas por parte de los desarrolladores, hemos establecido en el CMS un rango de ID reservados en los que se podrían agregar nuevas funciones o cambios, puede verlo en la siguiente tabla:</p><table><thead><tr><th>Tipo de permiso</th><th>Rango de IDs</th></tr></thead><tbody><tr><td>Permisos base</td><td>-1 a -99</td></tr><tr><td>Permisos de admin</td><td>-100 a -1000</td></tr></tbody></table>`,22),t=[n];function o(l,p){return e(),a("div",null,t)}const h=s(r,[["render",o],["__file","rbac.html.vue"]]),k=JSON.parse('{"path":"/es/blizzcms/structure/functions/rbac.html","title":"Funciones RBAC","lang":"es-ES","frontmatter":{"title":"Funciones RBAC","icon":"bx bx-radio-circle-marked","order":3,"description":"La integración del sistema RBAC en la base ahora permite restringir fácilmente secciones/páginas en todo el CMS. En esta página encontrará documentación de las funciones disponi...","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://wow-cms.github.io/docs/blizzcms/structure/functions/rbac.html"}],["meta",{"property":"og:url","content":"https://wow-cms.github.io/docs/es/blizzcms/structure/functions/rbac.html"}],["meta",{"property":"og:site_name","content":"WoW-CMS Docs"}],["meta",{"property":"og:title","content":"Funciones RBAC"}],["meta",{"property":"og:description","content":"La integración del sistema RBAC en la base ahora permite restringir fácilmente secciones/páginas en todo el CMS. En esta página encontrará documentación de las funciones disponi..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"es-ES"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2022-11-19T19:12:43.000Z"}],["meta",{"property":"article:modified_time","content":"2022-11-19T19:12:43.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Funciones RBAC\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2022-11-19T19:12:43.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"has_permission","slug":"has-permission","link":"#has-permission","children":[]},{"level":2,"title":"require_permission","slug":"require-permission","link":"#require-permission","children":[]},{"level":2,"title":"Permisos reservados","slug":"permisos-reservados","link":"#permisos-reservados","children":[]}],"git":{"createdTime":1663539979000,"updatedTime":1668885163000,"contributors":[{"name":"DZywolf","email":"34007722+DZywolf@users.noreply.github.com","commits":3}]},"readingTime":{"minutes":0.79,"words":237},"filePathRelative":"es/blizzcms/structure/functions/rbac.md","localizedDate":"18 de septiembre de 2022","autoDesc":true}');export{h as comp,k as data};
