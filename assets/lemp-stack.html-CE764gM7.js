import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as d,o as c,c as h,e as r,w as a,a as n,d as e,b as s}from"./app-DXQ2ZpS1.js";const p={},k=n('<p>The following guide will explain step by step the installation of the <strong>LEMP</strong> stack with the necessary requirements to run BlizzCMS.</p><h2 id="prerequisites" tabindex="-1"><a class="header-anchor" href="#prerequisites"><span>Prerequisites</span></a></h2><p>Before you get started, ensure you have the following:</p><ul><li>An instance with <strong>Linux OS</strong> (Debian/Rocky)</li><li>A root user or sudo user configured</li></ul><p>Now let&#39;s start ðŸ¤“</p><h2 id="step-1-install-nginx" tabindex="-1"><a class="header-anchor" href="#step-1-install-nginx"><span>Step 1: Install Nginx</span></a></h2><p>We will start with the installation of the package for Nginx which is the outstanding feature of this stack, so depending on your operating system follow the instructions below:</p>',7),F=s("p",null,"First of all, we will install the Nginx package with the command:",-1),m=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," apt"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," install"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," nginx")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),u=s("p",null,"Once installed, We will enable it to automatically start on reboot with:",-1),y=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," systemctl"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," enable"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," nginx")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),b=s("p",null,"Lastly, we will verify that the activated service has no errors with:",-1),E=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," systemctl"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," status"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," nginx")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),g=s("p",null,"First of all, we will install the Nginx package with the command:",-1),A=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," dnf"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," install"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," nginx")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),D=s("p",null,"Once installed, We will enable it to automatically start on reboot with:",-1),v=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," systemctl"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," enable"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," nginx")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),B=s("p",null,"Lastly, we will verify that the activated service has no errors with:",-1),C=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," systemctl"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," status"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," nginx")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),w=n(`<p><strong>For a double verification</strong>, you can open your browser and use the IP of your instance with which a default page will be displayed.</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki shiki-themes material-theme-lighter material-theme-darker" style="background-color:#FAFAFA;--shiki-dark-bg:#212121;color:#90A4AE;--shiki-dark:#EEFFFF;" tabindex="0"><code><span class="line"><span>http://your-ip-address</span></span>
<span class="line"><span></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="step-2-install-mariadb" tabindex="-1"><a class="header-anchor" href="#step-2-install-mariadb"><span>Step 2: Install MariaDB</span></a></h2><p>Now we will continue with the installation of MariaDB. To do this, follow the instructions below depending on your operating system.</p>`,4),_=s("p",null,"First of all, we will install the MariaDB package with the command:",-1),f=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," apt"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," install"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," mariadb-server")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),x=s("p",null,"Once installed, We will enable it to automatically start on reboot with:",-1),P=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," systemctl"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," enable"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," mariadb")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),q=s("p",null,"Next, we will verify that the activated service has no errors with:",-1),S=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," systemctl"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," status"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," mariadb")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),T=s("p",null,"First of all, we will install the MariaDB package with the command:",-1),L=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," dnf"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," install"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," mariadb-server")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),M=s("p",null,"Once installed, We will enable it to automatically start on reboot with:",-1),I=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," systemctl"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," enable"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," mariadb")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),N=s("p",null,"Next, we will verify that the activated service has no errors with:",-1),R=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," systemctl"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," status"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," mariadb")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),z=n(`<h3 id="improve-security" tabindex="-1"><a class="header-anchor" href="#improve-security"><span>Improve security</span></a></h3><p>To increase the security of our MariaDB installation we will run the following:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes material-theme-lighter material-theme-darker" style="background-color:#FAFAFA;--shiki-dark-bg:#212121;color:#90A4AE;--shiki-dark:#EEFFFF;" tabindex="0"><code><span class="line"><span style="color:#E2931D;--shiki-dark:#FFCB6B;">sudo</span><span style="color:#91B859;--shiki-dark:#C3E88D;"> mysql_secure_installation</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The script will ask you to set the password for the root user, remove the anonymous user, restrict the root user&#39;s access to the local machine, and remove the test database. In the end, the script will reload the privilege tables ensuring that all changes take effect immediately.</p><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>All steps are explained in detail and it is recommended to answer &quot;Y&quot; (yes) to all questions.</p></div><h3 id="create-a-database" tabindex="-1"><a class="header-anchor" href="#create-a-database"><span>Create a Database</span></a></h3><p>After finishing with the installation and security improvement for MariaDB we are going to create a database for the CMS. To create the database we will log in to MariaDB with:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes material-theme-lighter material-theme-darker" style="background-color:#FAFAFA;--shiki-dark-bg:#212121;color:#90A4AE;--shiki-dark:#EEFFFF;" tabindex="0"><code><span class="line"><span style="color:#E2931D;--shiki-dark:#FFCB6B;">mysql</span><span style="color:#91B859;--shiki-dark:#C3E88D;"> -u</span><span style="color:#91B859;--shiki-dark:#C3E88D;"> root</span><span style="color:#91B859;--shiki-dark:#C3E88D;"> -p</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Now you should run this SQL statement to create the database.</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes material-theme-lighter material-theme-darker" style="background-color:#FAFAFA;--shiki-dark-bg:#212121;color:#90A4AE;--shiki-dark:#EEFFFF;" tabindex="0"><code><span class="line"><span style="color:#F76D47;--shiki-dark:#F78C6C;">CREATE</span><span style="color:#F76D47;--shiki-dark:#F78C6C;"> DATABASE</span><span style="color:#6182B8;--shiki-dark:#82AAFF;"> mycms_db</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>Remember to change <strong>mycms_db</strong> to whatever name you want.</p></div><h3 id="create-a-user-and-grant-permissions" tabindex="-1"><a class="header-anchor" href="#create-a-user-and-grant-permissions"><span>Create a User and Grant Permissions</span></a></h3><p>Once the creation of the database is finished, we need access to it, so we will create a user who will only have access through <strong>localhost</strong>.</p><p>For that, we will first create the user with the following SQL statement:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes material-theme-lighter material-theme-darker" style="background-color:#FAFAFA;--shiki-dark-bg:#212121;color:#90A4AE;--shiki-dark:#EEFFFF;" tabindex="0"><code><span class="line"><span style="color:#F76D47;--shiki-dark:#F78C6C;">CREATE</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;"> USER </span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="color:#91B859;--shiki-dark:#C3E88D;">new-user</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">@</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="color:#91B859;--shiki-dark:#C3E88D;">localhost</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;"> IDENTIFIED </span><span style="color:#F76D47;--shiki-dark:#F78C6C;">BY</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="color:#91B859;--shiki-dark:#C3E88D;">password</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>Remember to change <strong>new-user</strong> and <strong>password</strong> to whatever you want.</p></div><p>Next, we will grant the permissions to the user on the database with the following SQL statement:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes material-theme-lighter material-theme-darker" style="background-color:#FAFAFA;--shiki-dark-bg:#212121;color:#90A4AE;--shiki-dark:#EEFFFF;" tabindex="0"><code><span class="line"><span style="color:#F76D47;--shiki-dark:#F78C6C;">GRANT</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;"> ALL PRIVILEGES </span><span style="color:#F76D47;--shiki-dark:#F78C6C;">ON</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;"> mycms_db.</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">*</span><span style="color:#F76D47;--shiki-dark:#F78C6C;"> TO</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="color:#91B859;--shiki-dark:#C3E88D;">new-user</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">@</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="color:#91B859;--shiki-dark:#C3E88D;">localhost</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>Remember to change <strong>mycms_db</strong>, <strong>new-user</strong> and <strong>password</strong> for those chosen above.</p></div><p>Lastly, for the newly added data to take effect, we will execute the following statements:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes material-theme-lighter material-theme-darker" style="background-color:#FAFAFA;--shiki-dark-bg:#212121;color:#90A4AE;--shiki-dark:#EEFFFF;" tabindex="0"><code><span class="line"><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">FLUSH PRIVILEGES;</span></span>
<span class="line"><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">exit;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="step-3-install-php" tabindex="-1"><a class="header-anchor" href="#step-3-install-php"><span>Step 3: Install PHP</span></a></h2><p>As the last step, we will install PHP. To do this, follow the instructions below depending on your operating system.</p>`,23),H=s("p",null,"First of all, we will install the required dependencies with the command:",-1),W=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," apt"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," install"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," -y"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," lsb-release"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," apt-transport-https"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," ca-certificates")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),O=s("p",null,"Once installed, we download the necessary GPG key for the repository of PHP packages:",-1),G=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"wget"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," -O"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," /etc/apt/trusted.gpg.d/php.gpg"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," https://packages.sury.org/php/apt.gpg")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),U=s("p",null,"Next, we will add the repository for PHP packages to the server:",-1),V=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6182B8","--shiki-dark":"#82AAFF"}},"echo"),s("span",{style:{color:"#39ADB5","--shiki-dark":"#89DDFF"}},' "'),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}},"deb https://packages.sury.org/php/ "),s("span",{style:{color:"#39ADB5","--shiki-dark":"#89DDFF"}},"$("),s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"lsb_release"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," -sc"),s("span",{style:{color:"#39ADB5","--shiki-dark":"#89DDFF"}},")"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," main"),s("span",{style:{color:"#39ADB5","--shiki-dark":"#89DDFF"}},'"'),s("span",{style:{color:"#39ADB5","--shiki-dark":"#89DDFF"}}," |"),s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}}," tee"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," /etc/apt/sources.list.d/php.list")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),Z=s("p",null,"We make sure that the operating system recognizes the addition of the repository and is up to date:",-1),$=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," apt"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," update")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),j=s("p",null,"Lastly, we will install PHP with the necessary extensions:",-1),Q=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," apt"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," install"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," -y"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," php8.1"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," php8.1-{fpm,bcmath,cli,curl,gd,gmp,intl,json,mbstring,mysqlnd,openssl,soap,xml,zip}")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),Y=s("p",null,"First of all, we will add the EPEL and Remi repositories for PHP 8 packages with the following commands:",-1),J=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," dnf"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," install"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," epel-release"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," -y")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," dnf"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," install"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," -y"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," https://rpms.remirepo.net/enterprise/remi-release-8.rpm")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),K=s("p",null,"We make sure that the operating system recognizes the addition of the repositories and is up to date:",-1),X=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," apt"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," update")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),ss=s("p",null,"Next, we will reset PHP from its default module to enable PHP packages from the Remi repository:",-1),es=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," dnf"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," module"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," reset"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," php")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),as=s("p",null,"We enable PHP from the Remi repository:",-1),is=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," dnf"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," module"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," enable"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," php:remi-8.1")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),ls=s("p",null,"Lastly, we will install PHP with the necessary extensions:",-1),ns=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[s("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker",style:{"background-color":"#FAFAFA","--shiki-dark-bg":"#212121",color:"#90A4AE","--shiki-dark":"#EEFFFF"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E2931D","--shiki-dark":"#FFCB6B"}},"sudo"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," dnf"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," install"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," -y"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," php"),s("span",{style:{color:"#91B859","--shiki-dark":"#C3E88D"}}," php-{fpm,bcmath,cli,curl,gd,gmp,intl,json,mbstring,mysqlnd,openssl,soap,xml,zip}")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),ts=n(`<h2 id="configuration-for-server-block" tabindex="-1"><a class="header-anchor" href="#configuration-for-server-block"><span>Configuration for server block</span></a></h2><p>Here you can find an example configuration using PHP 8.1 FPM (unix sockets).</p><div class="language-nginx line-numbers-mode" data-ext="nginx" data-title="nginx"><pre class="shiki shiki-themes material-theme-lighter material-theme-darker" style="background-color:#FAFAFA;--shiki-dark-bg:#212121;color:#90A4AE;--shiki-dark:#EEFFFF;" tabindex="0"><code><span class="line"><span style="color:#9C3EDA;--shiki-dark:#C792EA;">server</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;"> {</span></span>
<span class="line"><span style="color:#39ADB5;--shiki-dark:#89DDFF;">    listen </span><span style="color:#F76D47;--shiki-dark:#F78C6C;">80</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="color:#39ADB5;--shiki-dark:#89DDFF;">    listen </span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">[::]:80</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;--shiki-dark:#89DDFF;">    server_name </span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">domain.tld</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;--shiki-dark:#89DDFF;">    root </span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;"> /var/www/domain</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="color:#39ADB5;--shiki-dark:#89DDFF;">    index </span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">index.php index.html</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9C3EDA;--shiki-dark:#C792EA;">    location</span><span style="color:#E2931D;--shiki-dark:#FFCB6B;"> / </span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">{</span></span>
<span class="line"><span style="color:#39ADB5;--shiki-dark:#89DDFF;">        try_files $</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">uri </span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">$</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">uri/ /index.php</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9C3EDA;--shiki-dark:#C792EA;">    location</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> ~</span><span style="color:#91B859;--shiki-dark:#C3E88D;"> \\.php$ </span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">{</span></span>
<span class="line"><span style="color:#39ADB5;--shiki-dark:#89DDFF;">        include </span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">snippets/fastcgi-php.conf</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;--shiki-dark:#545454;font-style:italic;--shiki-dark-font-style:italic;">        # fastcgi_pass 127.0.0.1:9000;</span></span>
<span class="line"><span style="color:#39ADB5;--shiki-dark:#89DDFF;">        fastcgi_pass </span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">unix:/run/php/php8.1-fpm.sock</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;--shiki-dark:#545454;font-style:italic;--shiki-dark-font-style:italic;">    # deny access to hidden files such as .htaccess</span></span>
<span class="line"><span style="color:#9C3EDA;--shiki-dark:#C792EA;">    location</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> ~</span><span style="color:#91B859;--shiki-dark:#C3E88D;"> /\\. </span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">{</span></span>
<span class="line"><span style="color:#39ADB5;--shiki-dark:#89DDFF;">        deny all;</span></span>
<span class="line"><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;--shiki-dark:#545454;font-style:italic;--shiki-dark-font-style:italic;">    # deny access to folders</span></span>
<span class="line"><span style="color:#9C3EDA;--shiki-dark:#C792EA;">    location</span><span style="color:#39ADB5;--shiki-dark:#89DDFF;"> ~</span><span style="color:#91B859;--shiki-dark:#C3E88D;"> ^/(application|system|vendor)/ </span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">{</span></span>
<span class="line"><span style="color:#39ADB5;--shiki-dark:#89DDFF;font-style:italic;--shiki-dark-font-style:italic;">        return</span><span style="color:#F76D47;--shiki-dark:#F78C6C;"> 403</span><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">;</span></span>
<span class="line"><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">    }</span></span>
<span class="line"><span style="color:#90A4AE;--shiki-dark:#EEFFFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3);function rs(os,ds){const t=d("Tabs");return c(),h("div",null,[k,r(t,{id:"30",data:[{id:"Debian"},{id:"Rocky"}],active:0,"tab-id":"os"},{title0:a(({value:i,isActive:l})=>[e("Debian")]),title1:a(({value:i,isActive:l})=>[e("Rocky")]),tab0:a(({value:i,isActive:l})=>[F,m,u,y,b,E]),tab1:a(({value:i,isActive:l})=>[g,A,D,v,B,C]),_:1}),w,r(t,{id:"70",data:[{id:"Debian"},{id:"Rocky"}],active:0,"tab-id":"os"},{title0:a(({value:i,isActive:l})=>[e("Debian")]),title1:a(({value:i,isActive:l})=>[e("Rocky")]),tab0:a(({value:i,isActive:l})=>[_,f,x,P,q,S]),tab1:a(({value:i,isActive:l})=>[T,L,M,I,N,R]),_:1}),z,r(t,{id:"165",data:[{id:"Debian"},{id:"Rocky"}],active:0,"tab-id":"os"},{title0:a(({value:i,isActive:l})=>[e("Debian")]),title1:a(({value:i,isActive:l})=>[e("Rocky")]),tab0:a(({value:i,isActive:l})=>[H,W,O,G,U,V,Z,$,j,Q]),tab1:a(({value:i,isActive:l})=>[Y,J,K,X,ss,es,as,is,ls,ns]),_:1}),ts])}const ps=o(p,[["render",rs],["__file","lemp-stack.html.vue"]]),ks=JSON.parse('{"path":"/blizzcms/guides/linux/lemp-stack.html","title":"How to Install LEMP Stack","lang":"en-US","frontmatter":{"title":"How to Install LEMP Stack","icon":"bx bx-radio-circle-marked","order":2,"description":"The following guide will explain step by step the installation of the LEMP stack with the necessary requirements to run BlizzCMS. Prerequisites Before you get started, ensure yo...","head":[["link",{"rel":"alternate","hreflang":"es-es","href":"https://wow-cms.github.io/docs/es/blizzcms/guides/linux/lemp-stack.html"}],["meta",{"property":"og:url","content":"https://wow-cms.github.io/docs/blizzcms/guides/linux/lemp-stack.html"}],["meta",{"property":"og:site_name","content":"WoW-CMS Docs"}],["meta",{"property":"og:title","content":"How to Install LEMP Stack"}],["meta",{"property":"og:description","content":"The following guide will explain step by step the installation of the LEMP stack with the necessary requirements to run BlizzCMS. Prerequisites Before you get started, ensure yo..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"es-ES"}],["meta",{"property":"og:updated_time","content":"2023-10-08T23:10:03.000Z"}],["meta",{"property":"article:modified_time","content":"2023-10-08T23:10:03.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"How to Install LEMP Stack\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-10-08T23:10:03.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Prerequisites","slug":"prerequisites","link":"#prerequisites","children":[]},{"level":2,"title":"Step 1: Install Nginx","slug":"step-1-install-nginx","link":"#step-1-install-nginx","children":[]},{"level":2,"title":"Step 2: Install MariaDB","slug":"step-2-install-mariadb","link":"#step-2-install-mariadb","children":[{"level":3,"title":"Improve security","slug":"improve-security","link":"#improve-security","children":[]},{"level":3,"title":"Create a Database","slug":"create-a-database","link":"#create-a-database","children":[]},{"level":3,"title":"Create a User and Grant Permissions","slug":"create-a-user-and-grant-permissions","link":"#create-a-user-and-grant-permissions","children":[]}]},{"level":2,"title":"Step 3: Install PHP","slug":"step-3-install-php","link":"#step-3-install-php","children":[]},{"level":2,"title":"Configuration for server block","slug":"configuration-for-server-block","link":"#configuration-for-server-block","children":[]}],"git":{"createdTime":1663539979000,"updatedTime":1696806603000,"contributors":[{"name":"DZywolf","email":"34007722+DZywolf@users.noreply.github.com","commits":7}]},"readingTime":{"minutes":3.31,"words":993},"filePathRelative":"blizzcms/guides/linux/lemp-stack.md","localizedDate":"September 18, 2022","autoDesc":true}');export{ps as comp,ks as data};
